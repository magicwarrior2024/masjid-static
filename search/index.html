<!DOCTYPE html>
<html lang="en-US" prefix="og: https://ogp.me/ns#">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pencarian - Mosque</title>
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&amp;display=swap"
        rel="stylesheet">

    <!-- CSS from Index -->
    <link rel="stylesheet" id="wm-mode-css" href="../wp-content/themes/wp-masjid/masjid/style.css?ver=222027"
        type="text/css" media="all">
    <link rel="stylesheet" id="wm-owl-css" href="../wp-content/themes/wp-masjid/wm-css/owl.carousel.min.css?ver=222027"
        type="text/css" media="all">
    <link rel="stylesheet" id="wm-ani-css" href="../wp-content/themes/wp-masjid/wm-css/owl.animate.css?ver=222027"
        type="text/css" media="all">
    <link rel="stylesheet" id="wm-theme-css"
        href="../wp-content/themes/wp-masjid/wm-css/owl.theme.default.min.css?ver=222027" type="text/css" media="all">
    <link rel="stylesheet" id="wm-font-css" href="../wp-content/themes/wp-masjid/wm-css/wm-font.css?ver=222027"
        type="text/css" media="all">
    <link rel="stylesheet" id="wm-icofont-css" href="../wp-content/themes/wp-masjid/wm-css/icofont.css?ver=222027"
        type="text/css" media="all">
    <link rel="stylesheet" id="web-body-fonts-css"
        href="https://fonts.googleapis.com/css?family=ABeeZee%3A400%2C400italic&amp;display=swap&amp;ver=6.9" type="text/css"
        media="all">
    <link rel="stylesheet" id="web-roboto-css" href="https://fonts.googleapis.com/css?family=Roboto&amp;ver=6.9"
        type="text/css" media="all">
    <link rel="stylesheet" id="wp-block-paragraph-css" href="../wp-includes/blocks/paragraph/style.css?ver=6.9"
        type="text/css" media="all">
    <link rel="stylesheet" id="wm-style-css" href="../wp-content/themes/wp-masjid/style.css?ver=222027" type="text/css"
        media="all">

    <style type="text/css">
        body,
        button,
        input,
        select,
        textarea,
        .wm__sholat .MPwidget .title a,
        .wm__sholat .MPtimetable td {
            font-family: ABeeZee;
        }

        body,
        button,
        input,
        select,
        textarea {
            font-size: 14px;
        }

        /* Fix mobile menu visibility */
        body.open_menu .navmenu {
            display: block !important;
        }
    </style>

    <script type="text/javascript" src="../wp-includes/js/jquery/jquery.js?ver=3.7.1" id="jquery-core-js"></script>
    <script type="text/javascript" src="../wp-includes/js/jquery/jquery-migrate.js?ver=3.4.1"
        id="jquery-migrate-js"></script>

    <!-- Inline Styles from Index for Layout -->
    <style id="wm-style-inline-css" type="text/css">
        body,
        .wm__looppost,
        .pagination a,
        .ka__sholattime,
        .kajum__block {
            background-color: #ffffff;
            color: #555555;
        }

        .khalifah .MPwidget .title a,
        .khalifah .MPtimetable,
        .khalifah .MPtimetable tr td:before {
            color: #555555 !important;
        }

        .khalifah .MPtimetable tr,
        .khalifah .MPtimetable tr:nth-child(2n) {
            background-color: #ffffff !important;
        }

        .detin__post,
        .wpm_singleIDS:after {
            color: #555555;
        }

        .ka__heading:after {
            border-top: 1px solid #555555;
        }

        .sing__notable td:after {
            background: #555555;
        }

        a,
        .det__title a {
            color: #222222;
        }

        .sing__nav i,
        #submit,
        .pagination a {
            background: #7bae91;
            color: #ffffff;
        }

        .wpm__estTime,
        .khalifah .MPtimetable td:nth-child(2) {
            color: #7bae91;
        }

        .comment-reply-link {
            color: #7bae91;
        }

        .in__img span,
        .tak__img i,
        .wm__tags a,
        .pagination a:hover,
        .pagination a:active,
        .sing__share a {
            background: #7bae91;
            color: #ffffff;
        }

        .sing__nav a {
            color: #7bae91;
        }

        .sing__tag a {
            color: #555555;
            border: 1px solid #7bae91;
        }

        .wm__ticker,
        .in__ticker {
            background: #7bae91;
            color: #ffffff;
        }

        .wm__ticker a,
        .in__ticker a {
            color: #ffffff;
        }

        .wm__header {
            background: #ffffff;
            color: #333333;
        }

        .ka__header,
        .kalmenu {
            background: #ffffff;
        }

        .wm__sholat .MPtimetable tr,
        #timewpmtableIDS {
            background: #ffffff;
        }

        .is-desktop .accord ul li a {
            color: #ffffff;
        }

        .wm__sholat .MPtimetable {
            border: solid 8px #ffffff;
            border-top: solid #ffffff;
        }

        .wm__sholat .MPheader .title a,
        .wm__sholat .MPtimetable tr td:before,
        .kalmenu a,
        .call__span {
            color: #333333;
        }

        .is-mobile .accord li.menu-item-has-children:before {
            background: #333333;
        }

        .ka__logo span:after,
        .ka__logo span:before {
            border-color: #333333;
        }

        .wm__sholat h3 span,
        .wm__sholat .MPtimetable td:nth-child(2) {
            color: #7bae91;
        }

        .is-desktop .accord>li.menu-item-has-children:before,
        .is-desktop .accord li>ul {
            background: #7bae91;
        }

        .ka__call .call__icon,
        .call__icon:before {
            background: #7bae91;
            color: #ffffff;
        }

        .wm__sectionmenu,
        .navmenu .dd.desktop li ul,
        .noscroll .header_masjid_menu {
            background: #ffffff;
        }

        @media screen and (max-width: 982px) {
            .header_masjid_menu {
                background: #ffffff;
            }
        }

        .wm__sectionmenu a {
            color: #7bae91;
        }

        .wm__sectionmenu a:hover {
            color: #333333;
        }

        .wp__is,
        .wm__openmenu {
            background: #7bae91;
            color: #ffffff;
        }

        #wmcontact:before {
            background: #ffffff;
        }

        .wm__afterslider,
        .toggle_info,
        .hidden_info {
            background: #ffffff;
            color: #333333;
        }

        .close_info {
            background: #333333;
            color: #ffffff;
        }

        .wm__hotnumber a,
        .ka__dkmbio {
            color: #333333;
        }

        .wm__address i,
        .ka__address i {
            color: #7bae91;
        }

        .ka__address,
        .ka__pro {
            background: #7bae91;
            color: #ffffff;
        }

        .wm__pro,
        .wm__hotline .wm__social i {
            background: #7bae91;
            color: #ffffff;
        }

        .footer,
        .fo__contact,
        .fo__contact .hidden_info,
        .ka__footer {
            background: #7bae91;
            color: #ffffff;
        }

        .fo__detail td:after,
        .ka__footer:after {
            background: #ffffff;
        }

        .footer a,
        .fo__contact a,
        .ka__footer a {
            color: #ffffff;
        }

        .ka__footer .wm__social i {
            background: #ffffff;
            color: #7bae91;
        }

        /* Custom Styles for Search Page */
        .ss-search-wrapper {
            padding: 50px 0;
            min-height: 500px;
        }

        .ss-result-card {
            display: flex;
            gap: 20px;
            padding: 20px;
            margin-bottom: 20px;
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 8px;
            transition: 0.3s;
        }

        .ss-result-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-color: #7bae91;
        }

        .ss-result-thumb {
            width: 150px;
            height: 110px;
            border-radius: 6px;
            overflow: hidden;
            flex-shrink: 0;
            background: #eee;
        }

        .ss-result-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .ss-result-content {
            flex: 1;
        }

        .ss-result-title {
            font-size: 18px;
            margin: 0 0 8px;
            color: #333;
            font-weight: 600;
        }

        .ss-result-meta {
            font-size: 12px;
            color: #888;
            margin-bottom: 10px;
        }

        .ss-result-excerpt {
            font-size: 14px;
            color: #555;
            line-height: 1.5;
        }

        .ss-result-excerpt mark,
        .ss-result-title mark {
            background: #fff3cd;
            padding: 0 2px;
        }

        @media (max-width: 600px) {
            .ss-result-card {
                flex-direction: column;
            }

            .ss-result-thumb {
                width: 100%;
                height: 180px;
            }
        }
    </style>
<style>
body, .wm__looppost, .pagination a, #bigslider .owl-theme .owl-dots, .ka__sholattime, .ka__address:before, .ka__address:after, .kajum__block, .shalat__name, .saldo__real span, .kali__book { background: ##ffffff; }
.khalifah .MPtimetable tr, .khalifah .MPtimetable tr:nth-child(2n) { background-color: #ffffff !important; }
.karek__title { color: #ffffff; border-color: #ffffff; }
.in__img span, .tak__img i, .wm__tags a, .pagination a:hover, .ka__address, .ka__pro, .tau__time, .kashalat__in, .saldo__in, .rek__link, .rek__in, .book__count, .kaev__date, .only__one .kaev__date, .sing__share a, .sing__nav i, #submit, .pagination a { color : ##ffffff; }
body, .detin__post, .pagination a, .ka__sholattime, .wpm_singleIDS:after, .kajum__block, .khalifah .MPtimetable tr td:before { color: #555555; } .khalifah .MPwidget .title a, .khalifah .MPtimetable { color: #555555 !important; } .ka__heading:after { border-top: 1px solid #555555; } #bigslider .owl-theme .owl-dots .owl-dot span, .sing__notable td:after { background: #555555; } .sing__tag a { color: #555555; }
a, .det__title, .sing__nav a { color: #222222; }
.wm__ticker, #bigslider .owl-theme .owl-dots .owl-dot.active span, .in__ticker { background: #dc143c; } .wpm__estTime, .khalifah .MPtimetable td:nth-child(2) { color: #dc143c; }
.wm__ticker, .in__ticker { color: #ffffff; }
.wm__ticker a, .in__ticker a { color: #ffffff; }
.wm__header, .wm__sholat .MPtimetable tr, #timewpmtableIDS, .ka__header, .kalmenu { background: #ffffff; } .wm__sholat .MPtimetable { border: solid 8px #ffffff; border-top: solid 5px #ffffff; } .is-desktop .accord ul li a, .ka__call .call__icon { color: #ffffff; }
.wm__header, .wm__sholat .MPheader .title a, .wm__sholat .MPtimetable tr td:before, .kalmenu a, .call__span { color: #333333; } .ka__logo span:after, .ka__logo span:before { border-color: #333333; } .is-mobile .accord li.menu-item-has-children:before { background: #333333; }
.wm__sholat h3 span, .wm__sholat .MPtimetable td:nth-child(2) { color: #dc143c; } .is-desktop .accord > li.menu-item-has-children:before, .is-desktop .accord li > ul, .ka__call .call__icon, .call__icon:before { background: #dc143c; }
.wm__sectionmenu, .navmenu .dd.desktop li ul, .noscroll .header_masjid_menu { background: #ffffff; } @media screen and (max-width: 982px) { .header_masjid_menu { background: #ffffff; } }
.wm__sectionmenu a { color: #dc143c; }
.wm__sectionmenu a:hover { color: #333333; } .wm__openmenu { background: #333333; }
.wp__is, .wm__openmenu { background: #dc143c; } .search-btn { background: #dc143c; } .wm-header-search input { background: #dc143c; }
.footer, .fo__contact, .fo__contact .hidden_info, .ka__footer { background: #dc143c; } .ka__footer .wm__social i { color: #dc143c; }
.footer, .fo__contact, .fo__contact .hidden_info, .ka__footer { color: #ffffff; } .fo__detail td:after { background: #ffffff; }
.footer a, .fo__contact a, .ka__footer a { color: #ffffff; } .ka__footer .wm__social i { background: #ffffff; }

        /* Search Layout Improvements */
        .search-container { max-width: 800px; margin: 0 auto; padding: 40px 20px; text-align: center; }
        .search-title { margin-bottom: 30px; }
        .search-title h1 { font-size: 2rem; font-weight: 600; margin: 0 0 10px 0; }
        .search-title p { font-size: 1rem; color: #666; margin: 0; }
        .search-form { display: flex; gap: 12px; max-width: 600px; margin: 0 auto 20px auto; justify-content: center; align-items: stretch; }
        .search-form #ss-search-input { flex: 1; min-width: 200px; padding: 14px 20px; font-size: 16px; border: 2px solid #ddd; border-radius: 8px; outline: none; }
        .search-form .search-btn { padding: 14px 28px; font-size: 16px; font-weight: 600; color: #fff; border: none; border-radius: 8px; cursor: pointer; white-space: nowrap; transition: transform 0.2s; }
        .search-form .search-btn:hover { transform: translateY(-2px); }
        #ss-search-status { text-align: center; padding: 16px; font-size: 15px; }
        #ss-search-results { max-width: 800px; margin: 0 auto; text-align: left; }
        @media (max-width: 600px) {
            .search-form { flex-direction: column; padding: 0 10px; }
            .search-form .search-btn { width: 100%; }
        }
</style>
</head>

<body
    class="home wp-singular page-template-default page page-id-282 wp-custom-logo wp-embed-responsive wp-theme-wp-masjid">
    <div class="wrapper">
        <!-- HEADER SECTION FROM INDEX.HTML -->
        <div class="wm__header">
            <div class="wm__ticker">
                <ul class="newsticker_post newstickers">
                <li>This is running Text</li>
                </ul>
            </div>

            <div class="wm__mainheader">
                <div class="wm__container">
                    <div class="div__clear">
                        <div class="wm__logo">
                            <a href="../index.html" class="custom-logo-link" rel="home" aria-current="page">
                                <img width="600" height="108" src="../wp-content/uploads/2023/03/cropped-webmasjid.png"
                                    class="custom-logo" alt="Mosque">
                            </a>
                        </div>
                        <span class="wm__openmenu"><i class="icon-wm-menu"></i></span>
                        <div class="wm__sholat">
                            <div class="wm__headspan"><span id="wm-date-display">Sunday, 1 February 2026</span></div>
                            <div class="wm__sholatwidget">
                                <script type="text/javascript"
                                    src="https://www.muslimpro.com/muslimprowidget.js?cityid=1625084&language=id&timeformat=24"
                                    async></script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="header_masjid_menu">
                <div class="wm__container">
                    <div class="wm__sectionmenu div__clear">
                        <div class="wm__menu">
                            <div class="navmenu"><ul id="dd" class="dd desktop deskmenu"><li id="menu-item-573" class="menu-item menu-item-type-post_type_archive menu-item-object-tausiyah menu-item-573"><a href="./tausiyah/index.html">Tausiyah</a></li>
<li id="menu-item-574" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-574"><a href="#">Masjid</a>
<ul class="sub-menu">
	<li id="menu-item-935" class="menu-item menu-item-type-post_type_archive menu-item-object-layanan menu-item-935"><a href="./layanan/index.html">Layanan</a></li>
	<li id="menu-item-571" class="menu-item menu-item-type-post_type_archive menu-item-object-pengumuman menu-item-571"><a href="./pengumuman/index.html">Pengumuman</a></li>
	<li id="menu-item-575" class="menu-item menu-item-type-post_type_archive menu-item-object-wakaf menu-item-575"><a href="./wakaf/index.html">Laporan Wakaf</a></li>
	<li id="menu-item-576" class="menu-item menu-item-type-post_type_archive menu-item-object-lembaga menu-item-576"><a href="./lembaga/index.html">Lembaga</a></li>
	<li id="menu-item-936" class="menu-item menu-item-type-post_type_archive menu-item-object-takmir menu-item-936"><a href="./takmir/index.html">Takmir</a></li>
</ul>
</li>
<li id="menu-item-937" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-937"><a href="#">Jadwal</a>
<ul class="sub-menu">
	<li id="menu-item-572" class="menu-item menu-item-type-post_type_archive menu-item-object-event menu-item-572"><a href="./event/index.html">Agenda Kegiatan</a></li>
	<li id="menu-item-938" class="menu-item menu-item-type-post_type_archive menu-item-object-jadwal-jumat menu-item-938"><a href="./jadwal-jumat/index.html">Jadwal Jumat</a></li>
	<li id="menu-item-939" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-939"><a href="./test-jadwal-sholat/index.html">Jadwal Sholat</a></li>
</ul>
</li>
<li id="menu-item-561" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-561"><a href="./blog/index.html">Blog</a></li>
<li id="menu-item-300" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-300"><a href="./kontak/index.html">Kontak</a></li>
</ul></div></div><div class="wm__search">
                            <form method="get" id="searchform" action="./">
                                <div class="input__search">
                                    <input class="wp__is" id="header-search-input" name="q" type="text"
                                        placeholder="Search..." value="">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MAIN SEARCH CONTENT -->
        <div class="wm__container ss-search-wrapper">
                   <div class="search-container">
            <div class="search-title">
                <h1>Pencarian</h1>
                <p>Cari artikel, tausiyah, pengumuman dan konten lainnya</p>
            </div>
            
            <form class="search-form" id="ss-search-form" onsubmit="event.preventDefault(); performSearch();">
                <input type="text" id="ss-search-input" placeholder="Ketik kata kunci pencarian..." aria-label="Search">
                <button type="submit" class="search-btn">Cari Sekarang</button>
            </form>
            
            <div id="ss-search-status"></div>
            <div id="ss-search-results"></div>
        </div>
        </div>

        <!-- FOOTER SECTION FROM INDEX.HTML -->
        <div class="footer">
            <div class="wm__container">
                <div class="copyright">
                    MasjidStatic Supported by <a href="https://ciuss.com/">Ciuss Creative</a>
                </div>
            </div>
        </div>
    </div>

    <div class="hidden_info">
        <div class="ka__maps"></div>
        <div class="ka__details">
            <div class="fo__masjid">
                <div class="wm__name">Masjid At-Taqwa</div>
                <div class="wm__location">Jl Raya Lintas Liwa, Wonosari II, Simpang Sari, Sumber Jaya, Lampung Barat
                </div>
            </div>
            <div class="fo__detail">
                <table></table>
            </div>
            <div class="fo__detail">
                <table></table>
            </div>
        </div>
    </div>
    <span class="toggle_info"><i class="icon-wm-maps"></i></span>

    <script type="text/javascript" src="../wp-content/themes/wp-masjid/wm-script/owl.carousel.min.js?ver=6.9"
        id="wm-owls-js"></script>
    <script type="text/javascript" src="../wp-content/themes/wp-masjid/wm-script/acmeticker.min.js?ver=6.9"
        id="wm-ticker-js"></script>
    <script type="text/javascript" src="../wp-content/themes/wp-masjid/wm-script/footer.js?ver=6.9"
        id="wm-footer-js"></script>
    
    <!-- Initialize Ticker -->
    <script>
        jQuery(document).ready(function($) {
            $('.newstickers').acmeticker({ 
                speed: 50, 
                delay: 0, 
                pauseOnHover: true
            });
        });
    </script>

    <!-- Theme Scripts -->
    <!-- Essential Scripts for Menu Toggle etc -->
    <script>
        // Simple script to handle mobile menu toggle if jquery isn't fully loaded or handles it differnetly in this context
        jQuery(document).ready(function ($) {
            $('.wm__openmenu').click(function () {
                $('.navmenu').slideToggle();
            });

            // Current Date for Header
            var d = new Date();
            var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
            var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            document.getElementById("wm-date-display").textContent = days[d.getDay()] + ", " + d.getDate() + " " + months[d.getMonth()] + " " + d.getFullYear();
        });
    </script>

    <!-- FlexSearch Logic -->
    <script src="https://cdn.jsdelivr.net/gh/nextapps-de/flexsearch@0.7.31/dist/flexsearch.bundle.js"></script>
    <script>
        window.searchIndex = null;
        window.searchData = [];

        // Convert WordPress URLs to static site relative paths
        function convertToStaticUrl(url) {
            if (!url) return url;
            
            // Dynamic WP Bases from PHP
            const wpBases = ["http:\/\/localhost\/mosque\/","http:\/\/localhost\/mosque","http:\/\/localhost\/mosque\/","https:\/\/localhost\/mosque\/"];
            
            // Add current origin as fallback
            const origin = window.location.origin;
            const path = '/mosque';
            wpBases.push(origin + path + '/');
            
            let relativePath = url;
            
            // Try to match and replace base
            for (const base of wpBases) {
                if (url.startsWith(base)) {
                    relativePath = url.replace(base, '../');
                    break;
                }
            }
            
            // Handle root relative paths if needed
            const siteUrl = 'http://localhost/mosque';
            if (url.startsWith(siteUrl)) {
                 relativePath = url.replace(siteUrl, '..');
            }
            
            if (url.startsWith('./')) {
                relativePath = url.replace('./', '../');
            } else if (url.startsWith('../')) {
                relativePath = url;
            } else if (url.indexOf('://') === -1 && !url.startsWith('/')) {
                // Already relative filename?
                relativePath = '../' + url;
            }
            
            // Append index.html to directory links
            if (!relativePath.includes('wp-content') && 
                !relativePath.includes('.html') && 
                !relativePath.includes('.json') && 
                !relativePath.includes('#') &&
                !relativePath.includes('?')) {
                
                if (!relativePath.endsWith('/')) {
                    relativePath += '/';
                }
                relativePath += 'index.html';
            }
            
            return relativePath;
        }

        fetch("../search-index.json")
            .then(r => { if (!r.ok) throw new Error("Not found"); return r.json(); })
            .then(data => {
                window.searchData = data;
                window.searchIndex = new FlexSearch.Document({
                    document: { id: "id", index: ["title", "content", "excerpt"], store: true },
                    tokenize: "forward", cache: true
                });
                data.forEach((item, i) => {
                    window.searchIndex.add({ id: i, title: item.title || "", content: item.content || "", excerpt: item.excerpt || "" });
                });
                console.log("Search index loaded:", data.length, "items");

                // Check for 'q' OR 's' (standard WP) query parameters
                const params = new URLSearchParams(location.search);
                const q = params.get("q") || params.get("s");
                
                if (q) { document.getElementById("ss-search-input").value = q; performSearch(); }
            })
            .catch(e => {
                console.error("Failed to load search index:", e);
                document.getElementById("ss-search-status").innerHTML = '<span style="color:#dc3545;">Gagal memuat indeks pencarian.</span>';
            });

        function performSearch() {
            const query = document.getElementById("ss-search-input").value.trim();
            const results = document.getElementById("ss-search-results");
            const status = document.getElementById("ss-search-status");

            if (!query) { results.innerHTML = ""; status.innerHTML = ""; return; }
            if (!window.searchIndex) { status.innerHTML = "Memuat..."; return; }

            const res = window.searchIndex.search(query, { limit: 20, enrich: true });
            const ids = new Set();
            res.forEach(r => r.result.forEach(x => ids.add(x.id)));
            const items = Array.from(ids).map(id => window.searchData[id]);

            if (!items.length) {
                status.innerHTML = "";
                results.innerHTML = '<div style="text-align:center; padding:40px; color:#888;"><h3>Tidak ada hasil untuk "' + esc(query) + '"</h3><p>Coba kata kunci lain.</p></div>';
                return;
            }

            status.innerHTML = 'Ditemukan <strong>' + items.length + '</strong> hasil untuk "<strong>' + esc(query) + '</strong>"';

            let html = "";
            items.forEach(item => {
                const url = convertToStaticUrl(item.url);
                const thumb = convertToStaticUrl(item.thumbnail) || "../wp-content/themes/wp-masjid/wm-img/share.jpg";
                const excerpt = hl(item.excerpt || (item.content ? item.content.substring(0, 180) : ""), query);
                const date = item.date_formatted || "";
                html += '<a href="' + url + '" class="ss-result-card">' +
                    '<div class="ss-result-thumb"><img src="' + thumb + '" alt="" onerror="this.src=\'../wp-content/themes/wp-masjid/wm-img/share.jpg\'"></div>' +
                    '<div class="ss-result-content">' +
                    '<h3 class="ss-result-title">' + hl(item.title || "Untitled", query) + '</h3>' +
                    '<div class="ss-result-meta">' + date + (item.author ? " â€¢ " + item.author : "") + '</div>' +
                    '<div class="ss-result-excerpt">' + excerpt + '...</div>' +
                    '</div>' +
                    '</a>';
            });
            results.innerHTML = html;
            history.replaceState(null, "", location.pathname + "?q=" + encodeURIComponent(query));
        }

        function hl(text, query) {
            if (!query || !text) return esc(text);
            return esc(text).replace(new RegExp("(" + escRx(query) + ")", "gi"), "<mark>$1</mark>");
        }
        function esc(t) { const d = document.createElement("div"); d.textContent = t || ""; return d.innerHTML; }
        function escRx(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"); }

        document.getElementById("ss-search-input").addEventListener("keyup", e => { if (e.key === "Enter") performSearch(); });

        // Sync header search input to main search
        document.getElementById("header-search-input").addEventListener("keydown", e => {
            if (e.key === "Enter") {
                e.preventDefault();
                const q = e.target.value.trim();
                if (q) {
                    document.getElementById("ss-search-input").value = q;
                    performSearch();
                    window.scrollTo({ top: document.querySelector(".ss-search-wrapper").offsetTop - 100, behavior: 'smooth' });
                }
            }
        });
    </script>
    
    <!-- Acmeticker for running text -->
    <script type="text/javascript" src="../wp-content/themes/wp-masjid/wm-script/acmeticker.min.js"></script>
    <script>
        jQuery(document).ready(function($) {
            if ($.fn.acmeticker) {
                $('.newstickers').acmeticker({ 
                    speed: 50, 
                    delay: 2000, 
                    pauseOnHover: true
                });
            }
        });
    </script>
</body>

</html>